import{_ as i,u as d,g as k,o as t,c as r,b as s,h as v,i as p,r as f,f as h}from"./index-B70JlMxX.js";const _={class:"callback-page"},g={class:"callback-container"},b={key:0,class:"loading-state"},y={key:1,class:"success-state"},C={key:2,class:"error-state"},m={__name:"AuthCallback",setup(x){const l=h(),c=p(),n=d(),o=f("loading");k(async()=>{const a=c.query.code;if(!a){o.value="error";return}try{await n.handleCallback(a)?(o.value="success",setTimeout(()=>{l.push("/dashboard")},1e3)):o.value="error"}catch(e){console.error("Callback error:",e),o.value="error"}});function u(){l.push("/login")}return(a,e)=>(t(),r("div",_,[s("div",g,[o.value==="loading"?(t(),r("div",b,[...e[0]||(e[0]=[s("svg",{class:"spinner",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[s("circle",{cx:"12",cy:"12",r:"10","stroke-dasharray":"60","stroke-dashoffset":"20"})],-1),s("p",null,"正在登录...",-1)])])):o.value==="success"?(t(),r("div",y,[...e[1]||(e[1]=[s("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[s("path",{d:"M20 6L9 17L4 12"})],-1),s("p",null,"登录成功！正在跳转...",-1)])])):o.value==="error"?(t(),r("div",C,[e[2]||(e[2]=s("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[s("circle",{cx:"12",cy:"12",r:"10"}),s("path",{d:"M15 9L9 15M9 9L15 15"})],-1)),e[3]||(e[3]=s("p",null,"登录失败，请重试",-1)),s("button",{class:"retry-btn",onClick:u},"返回登录")])):v("",!0)])]))}},B=i(m,[["__scopeId","data-v-434a1f03"]]);export{B as default};
